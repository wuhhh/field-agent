{
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Human-readable name for this operation set",
      "minLength": 1,
      "maxLength": 100
    },
    "description": {
      "type": "string",
      "description": "Brief description of what these operations accomplish",
      "maxLength": 500
    },
    "operations": {
      "type": "array",
      "description": "Array of operations to perform in sequence",
      "minItems": 1,
      "maxItems": 20,
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of operation to perform",
            "enum": ["create", "modify", "delete"]
          },
          "target": {
            "type": "string",
            "description": "Type of element to operate on",
            "enum": ["field", "entryType", "section", "categoryGroup", "tagGroup"]
          },
          "targetId": {
            "type": "string",
            "description": "Handle of existing element (required for modify/delete)",
            "pattern": "^[a-z][a-zA-Z0-9]*$",
            "maxLength": 64
          },
          "create": {
            "type": "object",
            "description": "Data for create operations",
            "properties": {
              "field": {
                "type": "object",
                "description": "Field definition (when target is 'field')",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100
                  },
                  "handle": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "field_type": {
                    "type": "string",
                    "enum": [
                      "plain_text", "rich_text", "image", "number", "link",
                      "dropdown", "lightswitch", "email", "date", "time",
                      "color", "money", "range", "radio_buttons", "checkboxes",
                      "multi_select", "country", "button_group", "icon",
                      "asset", "matrix", "users", "entries", "categories", "tags"
                    ]
                  },
                  "instructions": {
                    "type": "string",
                    "maxLength": 500
                  },
                  "required": {
                    "type": "boolean"
                  },
                  "searchable": {
                    "type": "boolean"
                  },
                  "settings": {
                    "type": "object",
                    "description": "Field-type specific settings",
                    "properties": {
                      "entryTypes": {
                        "type": "array",
                        "description": "Matrix field entry types configuration",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {"type": "string"},
                            "handle": {"type": "string", "pattern": "^[a-z][a-zA-Z0-9]*$"},
                            "fields": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "handle": {"type": "string", "pattern": "^[a-z][a-zA-Z0-9]*$"},
                                  "field_type": {"type": "string"},
                                  "name": {"type": "string"},
                                  "required": {"type": "boolean"},
                                  "settings": {"type": "object"}
                                },
                                "required": ["handle"],
                                "additionalProperties": false
                              }
                            }
                          },
                          "required": ["name", "handle"],
                          "additionalProperties": false
                        }
                      }
                    }
                  }
                },
                "required": ["name", "handle", "field_type"],
                "additionalProperties": false
              },
              "entryType": {
                "type": "object",
                "description": "Entry type definition (when target is 'entryType')",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100
                  },
                  "handle": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "hasTitleField": {
                    "type": "boolean"
                  },
                  "fields": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "handle": {
                          "type": "string",
                          "pattern": "^[a-z][a-zA-Z0-9]*$"
                        },
                        "required": {
                          "type": "boolean"
                        }
                      },
                      "required": ["handle"],
                      "additionalProperties": false
                    }
                  }
                },
                "required": ["name", "handle", "fields"],
                "additionalProperties": false
              },
              "section": {
                "type": "object",
                "description": "Section definition (when target is 'section')",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100
                  },
                  "handle": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "type": {
                    "type": "string",
                    "enum": ["single", "channel", "structure"]
                  },
                  "hasUrls": {
                    "type": "boolean"
                  },
                  "uri": {
                    "type": "string",
                    "maxLength": 100
                  },
                  "template": {
                    "type": "string",
                    "maxLength": 100
                  },
                  "entryTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "pattern": "^[a-z][a-zA-Z0-9]*$"
                    }
                  }
                },
                "required": ["name", "handle", "entryTypes"],
                "additionalProperties": false
              },
              "categoryGroup": {
                "type": "object",
                "description": "Category group definition (when target is 'categoryGroup')",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100
                  },
                  "handle": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "hasUrls": {
                    "type": "boolean"
                  },
                  "uri": {
                    "type": "string",
                    "maxLength": 100
                  },
                  "template": {
                    "type": "string",
                    "maxLength": 100
                  },
                  "maxLevels": {
                    "type": "integer",
                    "minimum": 1
                  }
                },
                "required": ["name", "handle"],
                "additionalProperties": false
              },
              "tagGroup": {
                "type": "object",
                "description": "Tag group definition (when target is 'tagGroup')",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100
                  },
                  "handle": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "minLength": 1,
                    "maxLength": 64
                  }
                },
                "required": ["name", "handle"],
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "modify": {
            "type": "object",
            "description": "Modifications for modify operations",
            "properties": {
              "actions": {
                "type": "array",
                "description": "List of modification actions",
                "items": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "description": "Type of modification",
                      "enum": [
                        "addField", "removeField", "updateField",
                        "addEntryType", "removeEntryType", "updateEntryType",
                        "updateSettings",
                        "addMatrixEntryType", "removeMatrixEntryType", "modifyMatrixEntryType"
                      ]
                    },
                    "field": {
                      "type": "object",
                      "description": "Field definition for addField action"
                    },
                    "fieldHandle": {
                      "type": "string",
                      "description": "Field handle for removeField/updateField",
                      "pattern": "^[a-z][a-zA-Z0-9]*$"
                    },
                    "updates": {
                      "type": "object",
                      "description": "Updates to apply for updateField/updateSettings"
                    },
                    "matrixEntryType": {
                      "type": "object",
                      "description": "Entry type definition for addMatrixEntryType action",
                      "properties": {
                        "name": {"type": "string"},
                        "handle": {"type": "string", "pattern": "^[a-z][a-zA-Z0-9]*$"},
                        "fields": {
                          "type": "array",
                          "description": "Inline field definitions for the entry type",
                          "items": {"$ref": "#/definitions/field"}
                        },
                        "entryTypeHandle": {
                          "type": "string",
                          "description": "Handle of existing entry type to add to matrix field",
                          "pattern": "^[a-z][a-zA-Z0-9]*$"
                        }
                      }
                    },
                    "matrixEntryTypeHandle": {
                      "type": "string",
                      "description": "Entry type handle for removeMatrixEntryType/modifyMatrixEntryType",
                      "pattern": "^[a-z][a-zA-Z0-9]*$"
                    },
                    "matrixEntryTypeUpdates": {
                      "type": "object",
                      "description": "Updates to apply to matrix entry type",
                      "properties": {
                        "name": {"type": "string"},
                        "addFields": {
                          "type": "array",
                          "items": {"$ref": "#/definitions/field"}
                        },
                        "removeFields": {
                          "type": "array",
                          "items": {"type": "string"}
                        }
                      }
                    }
                  },
                  "required": ["action"],
                  "additionalProperties": false
                }
              }
            },
            "required": ["actions"],
            "additionalProperties": false
          },
          "delete": {
            "type": "object",
            "description": "Options for delete operations",
            "properties": {
              "force": {
                "type": "boolean",
                "description": "Force deletion even if element is in use"
              },
              "cascade": {
                "type": "boolean",
                "description": "Delete dependent elements"
              }
            },
            "additionalProperties": false
          }
        },
        "required": ["type", "target"],
        "additionalProperties": false
      }
    }
  },
  "required": ["operations"],
  "additionalProperties": false
}